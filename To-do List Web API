# database.py
import sqlite3

class Database:
    def __init__(self, db_name='todo.db'):
        self.connection = sqlite3.connect(db_name)
        self.cursor = self.connection.cursor()
        self.create_table()

    def create_table(self):
        self.cursor.execute('''
            CREATE TABLE IF NOT EXISTS todo (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                content TEXT NOT NULL,
                is_completed BOOLEAN NOT NULL DEFAULT 0
            )
        ''')
        self.connection.commit()

    def add_todo(self, content):
        self.cursor.execute('INSERT INTO todo (content) VALUES (?)', (content,))
        self.connection.commit()

    def get_todos(self):
        self.cursor.execute('SELECT * FROM todo')
        return self.cursor.fetchall()

    def update_todo(self, todo_id, content, is_completed):
        self.cursor.execute('UPDATE todo SET content = ?, is_completed = ? WHERE id = ?', (content, is_completed, todo_id))
        self.connection.commit()

    def delete_todo(self, todo_id):
        self.cursor.execute('DELETE FROM todo WHERE id = ?', (todo_id,))
        self.connection.commit()

    def close(self):
        self.connection.close()
# app.py
from database import Database

def display_todos(todos):
    print("\nTo-do List:")
    for todo in todos:
        status = "✓" if todo[2] else "✗"
        print(f"{todo[0]}: {todo[1]} [{status}]")
    print()

def main():
    db = Database()

    while True:
        print("1. Add To-do")
        print("2. View To-dos")
        print("3. Update To-do")
        print("4. Delete To-do")
        print("5. Exit")
        choice = input("Choose an option: ")

        if choice == '1':
            content = input("Enter To-do content: ")
            db.add_todo(content)
        elif choice == '2':
            todos = db.get_todos()
            display_todos(todos)
        elif choice == '3':
            todo_id = int(input("Enter To-do ID to update: "))
            content = input("Enter new content: ")
            is_completed = input("Is it completed? (y/n): ").lower() == 'y'
            db.update_todo(todo_id, content, is_completed)
        elif choice == '4':
            todo_id = int(input("Enter To-do ID to delete: "))
            db.delete_todo(todo_id)
        elif choice == '5':
            break
        else:
            print("Invalid option. Please try again.")

    db.close()

if __name__ == "__main__":
    main()

python app.py
